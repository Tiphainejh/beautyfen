{% extends "masterPage.twig" %}
 
{% block content %}

<section class="bg-title-page p-t-50 p-b-40 flex-col-c-m" style="background-image: url(/assets/images/baniere2.jpg);">
	<h2 class="l-text2 t-center" style="text-shadow: -1px -1px 0 #ffc0cb, 1px -1px 0 #efefef, -1px 1px 0 #efefef, 1px 1px 0 #efefef;">
		Mon compte
	</h2>
</section>
<div class="container p-t-55 p-b-65">
	<div class="row">
		<div class="col-md-3 ">
		     <div class="list-group ">
              <a href="/account" class="list-group-item list-group-item-action">
                    <img src="/assets/images/icons/account.svg" class="account-wrapicon1" alt="ICON">
                    Aperçu du compte</a>
              <a href="/orders" class="list-group-item list-group-item-action">
                  <img src="/assets/images/icons/orders.svg" class="account-wrapicon1 " alt="ICON">
                    Mes commandes</a>
              <a href="/info" class="list-group-item list-group-item-action" >
                    <img src="/assets/images/icons/infos.svg" class="account-wrapicon1 " alt="ICON">
                  Mes informations</a>
              <a href="/password" class="list-group-item list-group-item-action active">
                  <img src="/assets/images/icons/password.svg" class="account-wrapicon1 " alt="ICON">
                    Changer de mot de passe</a>
              <a href="/logout" class="list-group-item list-group-item-action">
                <img src="/assets/images/icons/logout.svg" class="account-wrapicon1 " alt="ICON">
                D&eacute;connexion</a>              
            </div> 
		</div>
		<div class="col-md-9">
		    <div class="card">
		        <div class="card-body">
		            <div class="row">
		                <div class="col-md-12">
		                    <h4>Changer de mot de passe</h4>
		                    <hr>
		                </div>
		            </div>
        <div class="row">
          <div class="col-md-12">
            <form action='/password' method="POST">
              		<p style="color:{{color}};font-style: oblique">{{message}} </p>
                <div class="form-group row">
                    <label for="old_password" class="col-4 col-form-label">Ancien mot de passe</label> 
                    <div class="col-8">
                        <input type="password" id="old_password" name="old_password" class="s-text7 size2 p-l-23 p-r-50" required type="text">
                    </div>
                </div>
                <p>Le mot de passe doit faire plus de 6 caractères, contenir au moins une majuscule et un chiffre.</p>

                <div class="form-group row">
              		<label class="col-4 col-form-label" for="password">Nouveau mot de passe</label>
              		<div class="col-8">
                			<input type="password" id="password" name="password" class="signup s-text7 size2 p-l-23 p-r-50" 
                			required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}">
              		</div>
            		</div>
            		<div class="form-group row">
              		<label class="col-4 col-form-label"  for="confirm_password">Confirmer mon mot de passe</label>
              		<div class="col-8">
              			<input type="password" id="confirm_password" required name="confirm_password" class="s-text7 size2 p-l-23 p-r-50" onkeyup="checkPass(); return false;">
              			<span id="confirmMessage" class="confirmMessage"></span>
              		</div>
                </div>

                <div class="form-group row">
                  <div class="offset-4 col-8">
                    <button name="submit" type="submit" class="btn btn-primary">Sauvegarder le mot de passe</button>
                  </div>
                </div> 
              </form>
          </div>
        </div>
		            
		        </div>
		    </div>
		</div>
	</div>

</div>

<script  >
function checkPass()
{
	var pass1 = document.getElementById('password');
	var pass2 = document.getElementById('confirm_password');
	var message = document.getElementById('confirmMessage');
	if(pass1.value == pass2.value)
	{
		message.innerHTML= "";
		pass2.style = "background: url(/assets/images/icons/check.png); background-size: 45px; background-repeat: no-repeat; background-position: 97% 50% ;"
	}
	else
	{
		message.style = "padding: 0 30px 0 50px; color: #999; max-height: 0; transition: 0.28s; overflow: hidden; color: red; font-style: italic;"
		message.innerHTML = "Les mots de passes ne sont pas identiques!"
	}
} 
</script>

{% endblock %}
